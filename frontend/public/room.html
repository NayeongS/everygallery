<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Room</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h1 class="text-center">갤러리</h1>
    <div id="gallery" class="row">
      <!-- 업로드된 이미지가 여기에 추가됩니다. -->
    </div>
  </div>

  <script>
    // 서버에서 업로드된 이미지를 가져와서 갤러리에 추가하는 함수
    function loadImages() {
      fetch('/uploaded-images')
        .then(response => response.json())
        .then(data => {
          const gallery = document.getElementById('gallery');
          data.fileUrls.forEach(url => {
            const col = document.createElement('div');
            col.className = 'col-md-4 mb-3';
            col.innerHTML = `<img src="${url}" class="img-fluid" alt="Uploaded Image">`;
            gallery.appendChild(col);
          });
        })
        .catch(error => {
          console.error('Error loading images:', error);
        });
    }

    // 페이지 로드 시 이미지 로드
    window.onload = loadImages;
  </script>
</body>
</html>
